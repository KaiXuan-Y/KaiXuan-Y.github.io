<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha256-xejo6yLi6vGtAjcMIsY8BHdKsLg7QynVlFMzdQgUuy8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"ykxzyp0517.cn","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.12.3","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"default"},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":{"gitalk":{"order":-1}},"activeClass":"gitalk"},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":true,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="å­¦ä¹ æœåŠ¡é™çº§ä¹‹å‰é¦–å…ˆè¦è€ƒè™‘çš„æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿé¢ä¸´çš„é—®é¢˜ï¼Œå¤æ‚åˆ†å¸ƒå¼ä½“ç³»ç»“æ„ä¸­çš„åº”ç”¨ç¨‹åºæœ‰æ•°åä¸ªä¾èµ–å…³ç³»ï¼Œæ¯ä¸ªä¾èµ–å…³ç³»åœ¨æŸäº›æ—¶å€™å°†ä¸å¯é¿å…åœ°å¤±è´¥ã€‚å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´è°ƒç”¨çš„æ—¶å€™ï¼Œå‡è®¾å¾®æœåŠ¡Aè°ƒç”¨å¾®æœåŠ¡Bå’Œå¾®æœåŠ¡Cï¼Œå¾®æœåŠ¡Bå’Œå¾®æœåŠ¡Cåˆè°ƒç”¨å…¶å®ƒçš„å¾®æœåŠ¡ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€œæ‰‡å‡ºâ€ã€‚å¦‚æœæ‰‡å‡ºçš„é“¾è·¯ä¸ŠæŸä¸ªå¾®æœåŠ¡çš„è°ƒç”¨å“åº”æ—¶é—´è¿‡é•¿æˆ–è€…ä¸å¯ç”¨ï¼Œå¯¹å¾®æœåŠ¡Açš„è°ƒç”¨å°±ä¼šå ç”¨è¶Šæ¥è¶Šå¤šçš„ç³»ç»Ÿèµ„æºï¼Œè¿›è€Œå¼•èµ·ç³»ç»Ÿå´©æºƒï¼Œæ‰€è°“çš„â€œé›ªå´©æ•ˆåº”â€.">
<meta property="og:type" content="article">
<meta property="og:title" content="å¾®æœåŠ¡åˆ†å¸ƒå¼æ¶æ„-æœåŠ¡é™çº§ç†”æ–­é™æµ">
<meta property="og:url" content="https://ykxzyp0517.cn/2022/11/03/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%88%86%E5%B8%83%E5%BC%8F%E6%9E%B6%E6%9E%84-%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7/index.html">
<meta property="og:site_name" content="Young&#39;s Land">
<meta property="og:description" content="å­¦ä¹ æœåŠ¡é™çº§ä¹‹å‰é¦–å…ˆè¦è€ƒè™‘çš„æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿé¢ä¸´çš„é—®é¢˜ï¼Œå¤æ‚åˆ†å¸ƒå¼ä½“ç³»ç»“æ„ä¸­çš„åº”ç”¨ç¨‹åºæœ‰æ•°åä¸ªä¾èµ–å…³ç³»ï¼Œæ¯ä¸ªä¾èµ–å…³ç³»åœ¨æŸäº›æ—¶å€™å°†ä¸å¯é¿å…åœ°å¤±è´¥ã€‚å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´è°ƒç”¨çš„æ—¶å€™ï¼Œå‡è®¾å¾®æœåŠ¡Aè°ƒç”¨å¾®æœåŠ¡Bå’Œå¾®æœåŠ¡Cï¼Œå¾®æœåŠ¡Bå’Œå¾®æœåŠ¡Cåˆè°ƒç”¨å…¶å®ƒçš„å¾®æœåŠ¡ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€œæ‰‡å‡ºâ€ã€‚å¦‚æœæ‰‡å‡ºçš„é“¾è·¯ä¸ŠæŸä¸ªå¾®æœåŠ¡çš„è°ƒç”¨å“åº”æ—¶é—´è¿‡é•¿æˆ–è€…ä¸å¯ç”¨ï¼Œå¯¹å¾®æœåŠ¡Açš„è°ƒç”¨å°±ä¼šå ç”¨è¶Šæ¥è¶Šå¤šçš„ç³»ç»Ÿèµ„æºï¼Œè¿›è€Œå¼•èµ·ç³»ç»Ÿå´©æºƒï¼Œæ‰€è°“çš„â€œé›ªå´©æ•ˆåº”â€.">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://ykxzyp0517.cn/images/pasted-258.png">
<meta property="og:image" content="https://ykxzyp0517.cn/images/pasted-259.png">
<meta property="og:image" content="https://ykxzyp0517.cn/images/pasted-260.png">
<meta property="og:image" content="https://ykxzyp0517.cn/images/pasted-261.png">
<meta property="og:image" content="https://ykxzyp0517.cn/images/pasted-262.png">
<meta property="og:image" content="https://ykxzyp0517.cn/images/pasted-263.png">
<meta property="og:image" content="https://ykxzyp0517.cn/images/pasted-264.png">
<meta property="og:image" content="https://ykxzyp0517.cn/images/pasted-265.png">
<meta property="article:published_time" content="2022-11-03T06:52:04.000Z">
<meta property="article:modified_time" content="2022-11-07T05:03:19.670Z">
<meta property="article:author" content="KaiXuan Young">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ykxzyp0517.cn/images/pasted-258.png">


<link rel="canonical" href="https://ykxzyp0517.cn/2022/11/03/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%88%86%E5%B8%83%E5%BC%8F%E6%9E%B6%E6%9E%84-%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://ykxzyp0517.cn/2022/11/03/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%88%86%E5%B8%83%E5%BC%8F%E6%9E%B6%E6%9E%84-%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7/","path":"2022/11/03/å¾®æœåŠ¡åˆ†å¸ƒå¼æ¶æ„-æœåŠ¡é™çº§/","title":"å¾®æœåŠ¡åˆ†å¸ƒå¼æ¶æ„-æœåŠ¡é™çº§ç†”æ–­é™æµ"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>å¾®æœåŠ¡åˆ†å¸ƒå¼æ¶æ„-æœåŠ¡é™çº§ç†”æ–­é™æµ | Young's Land</title>
  






  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="Young's Land" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Young's Land</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">è®°å½•å­¦ä¹ å’Œæ—¥å¸¸</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£<span class="badge">16</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="th fa-fw"></i>åˆ†ç±»<span class="badge">2</span></a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="tags fa-fw"></i>æ ‡ç­¾<span class="badge">3</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Hystrix"><span class="nav-text">Hystrix</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD"><span class="nav-text">åŠŸèƒ½</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hystrix%E7%9A%84%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7%E7%86%94%E6%96%AD%E9%99%90%E6%B5%81%E6%A6%82%E5%BF%B5"><span class="nav-text">Hystrixçš„æœåŠ¡é™çº§ç†”æ–­é™æµæ¦‚å¿µ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7"><span class="nav-text">æœåŠ¡é™çº§</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E7%86%94%E6%96%AD"><span class="nav-text">æœåŠ¡ç†”æ–­</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E9%99%90%E6%B5%81"><span class="nav-text">æœåŠ¡é™æµ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%9A%E5%8A%A1%E6%A8%A1%E6%8B%9F%EF%BC%88%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7%EF%BC%89"><span class="nav-text">ä¸šåŠ¡æ¨¡æ‹Ÿï¼ˆæœåŠ¡é™çº§ï¼‰</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%AB%98%E5%B9%B6%E5%8F%91%E6%A8%A1%E6%8B%9F"><span class="nav-text">é«˜å¹¶å‘æ¨¡æ‹Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%99%8D%E7%BA%A7%E5%AE%B9%E9%94%99%E8%A7%A3%E5%86%B3%E7%9A%84%E7%BB%B4%E5%BA%A6%E8%A6%81%E6%B1%82"><span class="nav-text">é™çº§å®¹é”™è§£å†³çš„ç»´åº¦è¦æ±‚</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hystrix%E4%B9%8B%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7%E6%94%AF%E4%BB%98%E4%BE%A7fallback"><span class="nav-text">Hystrixä¹‹æœåŠ¡é™çº§æ”¯ä»˜ä¾§fallback</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hystrix%E4%B9%8B%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7%E8%AE%A2%E5%8D%95%E4%BE%A7fallback"><span class="nav-text">Hystrixä¹‹æœåŠ¡é™çº§è®¢å•ä¾§fallback</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hystrix%E4%B9%8B%E5%85%A8%E5%B1%80%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7DefaultProperties"><span class="nav-text">Hystrixä¹‹å…¨å±€æœåŠ¡é™çº§DefaultProperties</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hystrix%E4%B9%8B%E9%80%9A%E9%85%8D%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7FeignFallback"><span class="nav-text">Hystrixä¹‹é€šé…æœåŠ¡é™çº§FeignFallback</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E7%86%94%E6%96%AD-1"><span class="nav-text">æœåŠ¡ç†”æ–­</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Hystrix%E4%B9%8B%E6%9C%8D%E5%8A%A1%E7%86%94%E6%96%AD%E7%90%86%E8%AE%BA"><span class="nav-text">Hystrixä¹‹æœåŠ¡ç†”æ–­ç†è®º</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%86%94%E6%96%AD%E6%9C%BA%E5%88%B6%E6%A6%82%E8%BF%B0"><span class="nav-text">ç†”æ–­æœºåˆ¶æ¦‚è¿°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%86%94%E6%96%AD%E6%9C%BA%E5%88%B6%E5%AE%9E%E4%BE%8B"><span class="nav-text">ç†”æ–­æœºåˆ¶å®ä¾‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%93%E8%AE%BA"><span class="nav-text">ç»“è®º</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Hystrix-Dashboard"><span class="nav-text">Hystrix-Dashboard</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="KaiXuan Young"
      src="/images/headimage.jpg">
  <p class="site-author-name" itemprop="name">KaiXuan Young</p>
  <div class="site-description" itemprop="description">NO PAIN , NO GAIN</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">16</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/KaiXuan-Y" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;KaiXuan-Y" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:1730052751@qq.com" title="E-Mail â†’ mailto:1730052751@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/KaiXuan-Y" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ykxzyp0517.cn/2022/11/03/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%88%86%E5%B8%83%E5%BC%8F%E6%9E%B6%E6%9E%84-%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/headimage.jpg">
      <meta itemprop="name" content="KaiXuan Young">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Young's Land">
      <meta itemprop="description" content="NO PAIN , NO GAIN">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="å¾®æœåŠ¡åˆ†å¸ƒå¼æ¶æ„-æœåŠ¡é™çº§ç†”æ–­é™æµ | Young's Land">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          å¾®æœåŠ¡åˆ†å¸ƒå¼æ¶æ„-æœåŠ¡é™çº§ç†”æ–­é™æµ
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2022-11-03 14:52:04" itemprop="dateCreated datePublished" datetime="2022-11-03T14:52:04+08:00">2022-11-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-11-07 13:03:19" itemprop="dateModified" datetime="2022-11-07T13:03:19+08:00">2022-11-07</time>
    </span>

  
    <span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>å­¦ä¹ æœåŠ¡é™çº§ä¹‹å‰é¦–å…ˆè¦è€ƒè™‘çš„æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿé¢ä¸´çš„é—®é¢˜ï¼Œå¤æ‚åˆ†å¸ƒå¼ä½“ç³»ç»“æ„ä¸­çš„åº”ç”¨ç¨‹åºæœ‰æ•°åä¸ªä¾èµ–å…³ç³»ï¼Œæ¯ä¸ªä¾èµ–å…³ç³»åœ¨æŸäº›æ—¶å€™å°†ä¸å¯é¿å…åœ°å¤±è´¥ã€‚å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´è°ƒç”¨çš„æ—¶å€™ï¼Œå‡è®¾å¾®æœåŠ¡Aè°ƒç”¨å¾®æœåŠ¡Bå’Œå¾®æœåŠ¡Cï¼Œå¾®æœåŠ¡Bå’Œå¾®æœåŠ¡Cåˆè°ƒç”¨å…¶å®ƒçš„å¾®æœåŠ¡ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€œæ‰‡å‡ºâ€ã€‚å¦‚æœæ‰‡å‡ºçš„é“¾è·¯ä¸ŠæŸä¸ªå¾®æœåŠ¡çš„è°ƒç”¨å“åº”æ—¶é—´è¿‡é•¿æˆ–è€…ä¸å¯ç”¨ï¼Œå¯¹å¾®æœåŠ¡Açš„è°ƒç”¨å°±ä¼šå ç”¨è¶Šæ¥è¶Šå¤šçš„ç³»ç»Ÿèµ„æºï¼Œè¿›è€Œå¼•èµ·ç³»ç»Ÿå´©æºƒï¼Œæ‰€è°“çš„â€œé›ªå´©æ•ˆåº”â€.æ‰€ä»¥ï¼Œé€šå¸¸å½“ä½ å‘ç°ä¸€ä¸ªæ¨¡å—ä¸‹çš„æŸä¸ªå®ä¾‹å¤±è´¥åï¼Œè¿™æ—¶å€™è¿™ä¸ªæ¨¡å—ä¾ç„¶è¿˜ä¼šæ¥æ”¶æµé‡ï¼Œç„¶åè¿™ä¸ªæœ‰é—®é¢˜çš„æ¨¡å—è¿˜è°ƒç”¨äº†å…¶ä»–çš„æ¨¡å—ï¼Œè¿™æ ·å°±ä¼šå‘ç”Ÿçº§è”æ•…éšœï¼Œæˆ–è€…å«é›ªå´©ã€‚å› æ­¤éœ€è¦è€ƒè™‘æœåŠ¡é™çº§<span id="more"></span>  </p>
<h1 id="Hystrix"><a href="#Hystrix" class="headerlink" title="Hystrix"></a>Hystrix</h1><p>Hystrixæ˜¯ä¸€ä¸ªç”¨äºå¤„ç†åˆ†å¸ƒå¼ç³»ç»Ÿçš„<code>å»¶è¿Ÿå’Œå®¹é”™</code>çš„å¼€æºåº“ï¼Œåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿé‡Œï¼Œè®¸å¤šä¾èµ–ä¸å¯é¿å…çš„ä¼š<code>è°ƒç”¨å¤±è´¥</code>ï¼Œæ¯”å¦‚è¶…æ—¶ã€å¼‚å¸¸ç­‰ï¼ŒHystrixèƒ½å¤Ÿä¿è¯åœ¨ä¸€ä¸ª<code>ä¾èµ–å‡ºé—®é¢˜</code>çš„æƒ…å†µä¸‹ï¼Œä¸ä¼šå¯¼è‡´æ•´ä½“æœåŠ¡å¤±è´¥ï¼Œé¿å…çº§è”æ•…éšœï¼Œä»¥æé«˜åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¼¹æ€§ã€‚<br>â€œæ–­è·¯å™¨â€æœ¬èº«æ˜¯ä¸€ç§å¼€å…³è£…ç½®ï¼Œå½“æŸä¸ªæœåŠ¡å•å…ƒå‘ç”Ÿæ•…éšœä¹‹åï¼Œé€šè¿‡æ–­è·¯å™¨çš„æ•…éšœç›‘æ§ï¼ˆç±»ä¼¼ç†”æ–­ä¿é™©ä¸)ï¼Œå‘è°ƒç”¨æ–¹è¿”å›ä¸€ä¸ªç¬¦åˆé¢„æœŸçš„ã€å¯å¤„ç†çš„å¤‡é€‰å“åº”ï¼ˆFallBack)ï¼Œè€Œä¸æ˜¯é•¿æ—¶é—´çš„ç­‰å¾…æˆ–è€…æŠ›å‡ºè°ƒç”¨æ–¹æ— æ³•å¤„ç†çš„å¼‚å¸¸ï¼Œè¿™æ ·å°±ä¿è¯äº†æœåŠ¡è°ƒç”¨æ–¹çš„çº¿ç¨‹ä¸ä¼šè¢«é•¿æ—¶é—´ã€ä¸å¿…è¦åœ°å ç”¨ï¼Œä»è€Œé¿å…äº†æ•…éšœåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„è”“å»¶ï¼Œä¹ƒè‡³é›ªå´©ã€‚</p>
<h2 id="åŠŸèƒ½"><a href="#åŠŸèƒ½" class="headerlink" title="åŠŸèƒ½"></a>åŠŸèƒ½</h2><ul>
<li>æœåŠ¡é™çº§</li>
<li>æœåŠ¡ç†”æ–­</li>
<li>æ¥è¿‘å®æ—¶çš„ç›‘æ§<br><a target="_blank" rel="noopener" href="https://github.com/Netflix/Hystrix/wiki/How-To-Use">https://github.com/Netflix/Hystrix/wiki/How-To-Use</a></li>
</ul>
<h2 id="Hystrixçš„æœåŠ¡é™çº§ç†”æ–­é™æµæ¦‚å¿µ"><a href="#Hystrixçš„æœåŠ¡é™çº§ç†”æ–­é™æµæ¦‚å¿µ" class="headerlink" title="Hystrixçš„æœåŠ¡é™çº§ç†”æ–­é™æµæ¦‚å¿µ"></a>Hystrixçš„æœåŠ¡é™çº§ç†”æ–­é™æµæ¦‚å¿µ</h2><h3 id="æœåŠ¡é™çº§"><a href="#æœåŠ¡é™çº§" class="headerlink" title="æœåŠ¡é™çº§"></a>æœåŠ¡é™çº§</h3><p>æœåŠ¡å™¨å¿™ï¼Œè¯·ç¨åå†è¯•ï¼Œä¸è®©å®¢æˆ·ç«¯ç­‰å¾…å¹¶ç«‹åˆ»è¿”å›ä¸€ä¸ªå‹å¥½æç¤ºï¼Œfallback</p>
<blockquote>
<p>å“ªäº›æƒ…å†µä¼šå‡ºå‘é™çº§</p>
</blockquote>
<ul>
<li>ç¨‹åºè¿è¡Œå¯¼å¸¸</li>
<li>è¶…æ—¶</li>
<li>æœåŠ¡ç†”æ–­è§¦å‘æœåŠ¡é™çº§</li>
<li>çº¿ç¨‹æ± &#x2F;ä¿¡å·é‡æ‰“æ»¡ä¹Ÿä¼šå¯¼è‡´æœåŠ¡é™çº§</li>
</ul>
<h3 id="æœåŠ¡ç†”æ–­"><a href="#æœåŠ¡ç†”æ–­" class="headerlink" title="æœåŠ¡ç†”æ–­"></a>æœåŠ¡ç†”æ–­</h3><p>ç±»æ¯”ä¿é™©ä¸è¾¾åˆ°æœ€å¤§æœåŠ¡è®¿é—®åï¼Œç›´æ¥æ‹’ç»è®¿é—®ï¼Œæ‹‰é—¸é™ç”µï¼Œç„¶åè°ƒç”¨æœåŠ¡é™çº§çš„æ–¹æ³•å¹¶è¿”å›å‹å¥½æç¤ºã€‚</p>
<blockquote>
<p>æœåŠ¡çš„é™çº§ -&gt; è¿›è€Œç†”æ–­ -&gt; æ¢å¤è°ƒç”¨é“¾è·¯</p>
</blockquote>
<h3 id="æœåŠ¡é™æµ"><a href="#æœåŠ¡é™æµ" class="headerlink" title="æœåŠ¡é™æµ"></a>æœåŠ¡é™æµ</h3><blockquote>
<p>ç§’æ€é«˜å¹¶å‘ç­‰æ“ä½œï¼Œä¸¥ç¦ä¸€çªèœ‚çš„è¿‡æ¥æ‹¥æŒ¤ï¼Œå¤§å®¶æ’é˜Ÿï¼Œä¸€ç§’é’ŸNä¸ªï¼Œæœ‰åºè¿›è¡Œã€‚</p>
</blockquote>
<h2 id="ä¸šåŠ¡æ¨¡æ‹Ÿï¼ˆæœåŠ¡é™çº§ï¼‰"><a href="#ä¸šåŠ¡æ¨¡æ‹Ÿï¼ˆæœåŠ¡é™çº§ï¼‰" class="headerlink" title="ä¸šåŠ¡æ¨¡æ‹Ÿï¼ˆæœåŠ¡é™çº§ï¼‰"></a>ä¸šåŠ¡æ¨¡æ‹Ÿï¼ˆæœåŠ¡é™çº§ï¼‰</h2><pre><code>@RestController
@Slf4j
public class PaymentController &#123;
    @Resource
    private PaymentService paymentService;

    @Value(&quot;$&#123;server.port&#125;&quot;)
    private String serverPort;

    @GetMapping(&quot;/payment/hystrix/ok/&#123;id&#125;&quot;)
    public String paymentInfo_Ok(@PathVariable(&quot;id&quot;)Integer id)&#123;
        String res = paymentService.paymentInfo_Ok(id);
        log.info(&quot;******result: &quot; + res);
        return res;
    &#125;

    @GetMapping(&quot;/payment/hystrix/timeout/&#123;id&#125;&quot;)
    public String paymentInfo_TimeOut(@PathVariable(&quot;id&quot;)Integer id)&#123;
        String res = paymentService.paymentInfo_TimeOut(id);
        log.info(&quot;******result: &quot; + res);
        return res;
    &#125;


&#125;
</code></pre>
<p>å…¶ä¸­ï¼Œ<code>paymentInfo_TimeOut</code>ä¸šåŠ¡æ¨¡æ‹Ÿä¸€ä¸ªéœ€è¦é•¿æ—¶é—´å¤„ç†çš„å¤æ‚ä¸šåŠ¡ã€‚  </p>
<h3 id="é«˜å¹¶å‘æ¨¡æ‹Ÿ"><a href="#é«˜å¹¶å‘æ¨¡æ‹Ÿ" class="headerlink" title="é«˜å¹¶å‘æ¨¡æ‹Ÿ"></a>é«˜å¹¶å‘æ¨¡æ‹Ÿ</h3><p>å¼€å¯Jmeterï¼Œæ¥20000ä¸ªå¹¶å‘å‹æ­»8001ï¼Œ20000ä¸ªè¯·æ±‚éƒ½å»è®¿é—®paymentInfo_TimeOutæœåŠ¡</p>
<p>1.æµ‹è¯•è®¡åˆ’ä¸­å³é”®æ·»åŠ -ã€‹çº¿ç¨‹-ã€‹çº¿ç¨‹ç»„ï¼ˆçº¿ç¨‹ç»„202102ï¼Œçº¿ç¨‹æ•°ï¼š200ï¼Œçº¿ç¨‹æ•°ï¼š100ï¼Œå…¶ä»–å‚æ•°é»˜è®¤ï¼‰</p>
<p>2.åˆšåˆšæ–°å»ºçº¿ç¨‹ç»„202102ï¼Œå³é”®å®ƒ-ã€‹æ·»åŠ -ã€‹å–æ ·å™¨-ã€‹Httpè¯·æ±‚-ã€‹åŸºæœ¬ è¾“å…¥<a target="_blank" rel="noopener" href="http://localhost:8001/payment/hystrix/ok/1">http://localhost:8001/payment/hystrix/ok/1</a></p>
<p>3.ç‚¹å‡»ç»¿è‰²ä¸‰è§’å½¢å›¾æ ‡å¯åŠ¨ã€‚</p>
<p>çœ‹æ¼”ç¤ºç»“æœï¼šæ‹–æ…¢ï¼ŒåŸå› ï¼štomcatçš„é»˜è®¤çš„å·¥ä½œçº¿ç¨‹æ•°è¢«æ‰“æ»¡äº†ï¼Œæ²¡æœ‰å¤šä½™çš„çº¿ç¨‹æ¥åˆ†è§£å‹åŠ›å’Œå¤„ç†ã€‚</p>
<p>Jmeterå‹æµ‹ç»“è®º</p>
<p>ä¸Šé¢è¿˜æ˜¯æœåŠ¡æä¾›è€…8001è‡ªå·±æµ‹è¯•ï¼Œå‡å¦‚æ­¤æ—¶å¤–éƒ¨çš„æ¶ˆè´¹è€…80ä¹Ÿæ¥è®¿é—®ï¼Œé‚£æ¶ˆè´¹è€…åªèƒ½å¹²ç­‰ï¼Œæœ€ç»ˆå¯¼è‡´æ¶ˆè´¹ç«¯80ä¸æ»¡æ„ï¼ŒæœåŠ¡ç«¯8001ç›´æ¥è¢«æ‹–æ…¢ã€‚</p>
<p><img data-src="/images/pasted-258.png" alt="upload successful"><br>æ­¤æ—¶å‘ç°äº§ç”Ÿè¿åæ•ˆåº”ï¼Œ <code>paymentInfo_OK</code>è¿™ä¸ªä¸è¯¥ç­‰å¾…çš„ä¸šåŠ¡éƒ½è¢«å‹æ…¢äº†ã€‚å› ä¸º<code>paymentInfo_TimeOut</code>å’Œ<code>paymentInfo_OK</code>ä¸ºä¸€ä¸ªå¾®æœåŠ¡èµ„æºã€‚å¯¼è‡´èµ„æºè¿‡å¤šçš„å€¾æ–œç»™<code>paymentInfo_TimeOut</code>ï¼Œé€ æˆ<code>paymentInfo_Ok</code>æ²¡æœ‰å¤šä½™çš„çº¿ç¨‹æ¥å¤„ç†ã€‚<br>å¦‚æœæ­¤æ—¶80æ¶ˆè´¹è€…æ¥è®¿é—®ï¼Œæ¶ˆè´¹è€…åªèƒ½<code>å¹²ç­‰</code>,æœ€ç»ˆè¢«å‹æ­»  </p>
<blockquote>
<p>æ¶ˆè´¹è€…80ç±»ç¼–å†™</p>
</blockquote>
<pre><code>@Service
@FeignClient(value = &quot;http://CLOUD-HYXTRIX-PAYMENT-SERVICE&quot;)
public interface PaymentHystrixService &#123;
    @GetMapping(&quot;/payment/hystrix/ok/&#123;id&#125;&quot;)
    public String paymentInfo_Ok(@PathVariable(&quot;id&quot;)Integer id);

    @GetMapping(&quot;/payment/hystrix/timeout/&#123;id&#125;&quot;)
    public String paymentInfo_TimeOut(@PathVariable(&quot;id&quot;)Integer id);
&#125;
</code></pre>
<p>Controllerç±»</p>
<pre><code>@RestController
@Slf4j
public class PaymentHystrixController &#123;

    @Resource
    private PaymentHystrixService paymentHystrixService;

    @GetMapping(&quot;/consumer/payment/hystrix/ok/&#123;id&#125;&quot;)
    public String paymentInfo_Ok(@PathVariable(&quot;id&quot;)Integer id)&#123;
        return paymentHystrixService.paymentInfo_Ok(id);
    &#125;

    @GetMapping(&quot;/consumer/payment/hystrix/timeout/&#123;id&#125;&quot;)
    public String paymentInfo_TimeOut(@PathVariable(&quot;id&quot;)Integer id)&#123;
        return paymentHystrixService.paymentInfo_TimeOut(id);
    &#125;
&#125;
</code></pre>
<p>æ­¤æ—¶å‹8001åï¼Œæ¶ˆè´¹è€…80è®¿é—®okéƒ½ä¼šå¾ˆæ…¢<br>åŸå› ï¼š8001åŒä¸€å±‚æ¬¡çš„å…¶å®ƒæ¥å£æœåŠ¡è¢«å›°æ­»ï¼Œå› ä¸ºtomcatçº¿ç¨‹æ± é‡Œé¢çš„å·¥ä½œçº¿ç¨‹å·²ç»è¢«æŒ¤å å®Œæ¯•ã€‚æ­£å› ä¸ºæœ‰ä¸Šè¿°æ•…éšœæˆ–ä¸ä½³è¡¨ç°æ‰æœ‰æˆ‘ä»¬çš„é™çº§&#x2F;å®¹é”™&#x2F;é™æµç­‰æŠ€æœ¯è¯ç”Ÿ  </p>
<h3 id="é™çº§å®¹é”™è§£å†³çš„ç»´åº¦è¦æ±‚"><a href="#é™çº§å®¹é”™è§£å†³çš„ç»´åº¦è¦æ±‚" class="headerlink" title="é™çº§å®¹é”™è§£å†³çš„ç»´åº¦è¦æ±‚"></a>é™çº§å®¹é”™è§£å†³çš„ç»´åº¦è¦æ±‚</h3><p>è¶…æ—¶å¯¼è‡´æœåŠ¡å™¨å˜æ…¢(è½¬åœˆ) - è¶…æ—¶ä¸å†ç­‰å¾…</p>
<p>å‡ºé”™(å®•æœºæˆ–ç¨‹åºè¿è¡Œå‡ºé”™) - å‡ºé”™è¦æœ‰å…œåº•</p>
<p>å¯¹æ–¹æœåŠ¡(8001)è¶…æ—¶äº†ï¼Œè°ƒç”¨è€…(80)ä¸èƒ½ä¸€ç›´å¡æ­»ç­‰å¾…ï¼Œå¿…é¡»æœ‰æœåŠ¡é™çº§ã€‚<br>å¯¹æ–¹æœåŠ¡(8001)downæœºäº†ï¼Œè°ƒç”¨è€…(80)ä¸èƒ½ä¸€ç›´å¡æ­»ç­‰å¾…ï¼Œå¿…é¡»æœ‰æœåŠ¡é™çº§ã€‚<br>å¯¹æ–¹æœåŠ¡(8001)OKï¼Œè°ƒç”¨è€…(80)è‡ªå·±å‡ºæ•…éšœæˆ–æœ‰è‡ªæˆ‘è¦æ±‚(è‡ªå·±çš„ç­‰å¾…æ—¶é—´å°äºæœåŠ¡æä¾›è€…)ï¼Œè‡ªå·±å¤„ç†é™çº§ã€‚</p>
<h3 id="Hystrixä¹‹æœåŠ¡é™çº§æ”¯ä»˜ä¾§fallback"><a href="#Hystrixä¹‹æœåŠ¡é™çº§æ”¯ä»˜ä¾§fallback" class="headerlink" title="Hystrixä¹‹æœåŠ¡é™çº§æ”¯ä»˜ä¾§fallback"></a>Hystrixä¹‹æœåŠ¡é™çº§æ”¯ä»˜ä¾§fallback</h3><p>é™çº§é…ç½® - @HystrixCommand<br>è®¾ç½®è‡ªèº«è°ƒç”¨è¶…æ—¶æ—¶é—´çš„å³°å€¼ï¼Œå³°å€¼å†…å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œè¶…è¿‡äº†éœ€è¦æœ‰å…œåº•çš„æ–¹æ³•å¤„åŸ‹ï¼Œä½œæœåŠ¡é™çº§fallbackã€‚<br>â€”æ—¦è°ƒç”¨æœåŠ¡æ–¹æ³•å¤±è´¥å¹¶æŠ›å‡ºäº†é”™è¯¯ä¿¡æ¯ï¼Œæˆ–è€…è¶…æ—¶åï¼Œä¼šè‡ªåŠ¨è°ƒç”¨@HystrixCommandæ ‡æ³¨å¥½çš„fallbackMethodè°ƒç”¨ç±»ä¸­çš„æŒ‡å®šæ–¹æ³•  </p>
<pre><code>//æœåŠ¡é™çº§
    @HystrixCommand(fallbackMethod = &quot;paymentInfo_TimeOutHandler&quot;,commandProperties = &#123;
            @HystrixProperty(name = &quot;execution.isolation.thread.timeoutInMilliseconds&quot;,value = &quot;3000&quot;)
    &#125;)
    public String paymentInfo_TimeOut(Integer id)&#123;
//        try &#123;
//            TimeUnit.SECONDS.sleep(5);
//        &#125; catch (InterruptedException e) &#123;
//            e.printStackTrace();
//        &#125;
        int age = 10/0;
        return &quot;çº¿ç¨‹æ± ï¼š&quot;+Thread.currentThread().getName() + &quot;paymentInfo_Timeout,id:&quot;+id +  &quot;  è€—æ—¶5ç§’é’Ÿ&quot;;
    &#125;

    public String paymentInfo_TimeOutHandler(Integer id)&#123;
        return &quot;çº¿ç¨‹æ± ï¼š&quot;+Thread.currentThread().getName() + &quot;ç³»ç»Ÿç¹å¿™æˆ–è€…è¿è¡ŒæŠ¥é”™ï¼Œè¯·ç¨åå†è¯•,id:&quot;+id + &quot;ï¼š--0.0&quot;;
    &#125;
</code></pre>
<p>ä¸»ç³»ç»Ÿç±»æ¿€æ´»  </p>
<pre><code>@SpringBootApplication
@EnableEurekaClient
@EnableCircuitBreaker
public class PaymentHystrixMain8001 &#123;

    public static void main(String[] args) &#123;
        SpringApplication.run(PaymentHystrixMain8001.class , args);
    &#125;
&#125;
</code></pre>
<h3 id="Hystrixä¹‹æœåŠ¡é™çº§è®¢å•ä¾§fallback"><a href="#Hystrixä¹‹æœåŠ¡é™çº§è®¢å•ä¾§fallback" class="headerlink" title="Hystrixä¹‹æœåŠ¡é™çº§è®¢å•ä¾§fallback"></a>Hystrixä¹‹æœåŠ¡é™çº§è®¢å•ä¾§fallback</h3><p>80è®¢å•å¾®æœåŠ¡ï¼Œä¹Ÿå¯ä»¥æ›´å¥½çš„ä¿æŠ¤è‡ªå·±ï¼Œè‡ªå·±ä¹Ÿä¾æ ·ç”»è‘«èŠ¦è¿›è¡Œå®¢æˆ·ç«¯é™çº§ä¿æŠ¤</p>
<p>é¢˜å¤–è¯ï¼Œåˆ‡è®° - æˆ‘ä»¬è‡ªå·±é…ç½®è¿‡çš„çƒ­éƒ¨ç½²æ–¹å¼å¯¹javaä»£ç çš„æ”¹åŠ¨æ˜æ˜¾</p>
<p>ä½†å¯¹@HystrixCommandå†…å±æ€§çš„ä¿®æ”¹å»ºè®®é‡å¯å¾®æœåŠ¡  </p>
<p>yml  </p>
<pre><code>feign:
  hystrix:
    enabled: true
</code></pre>
<p>ä¸»å¯åŠ¨ç±»  </p>
<pre><code>@SpringBootApplication
@EnableFeignClients
@EnableHystrix
public class OrderHystrixMain80 &#123;
    public static void main(String[] args) &#123;
        SpringApplication.run(OrderHystrixMain80.class , args);
    &#125;
&#125;
</code></pre>
<p>ä¸šåŠ¡ç±»</p>
<pre><code>@GetMapping(&quot;/consumer/payment/hystrix/timeout/&#123;id&#125;&quot;)
    @HystrixCommand(fallbackMethod = &quot;paymentTimeOutFallbackMethod&quot;,commandProperties = &#123;
            @HystrixProperty(name = &quot;execution.isolation.thread.timeoutInMilliseconds&quot;,value = &quot;1500&quot;)
    &#125;)
    public String paymentInfo_TimeOut(@PathVariable(&quot;id&quot;)Integer id)&#123;
        return paymentHystrixService.paymentInfo_TimeOut(id);
    &#125;

    public String paymentTimeOutFallbackMethod(@PathVariable(&quot;id&quot;)Integer id)&#123;
        return &quot;æˆ‘æ˜¯æ¶ˆè´¹è€…80ï¼Œå¯¹æ–¹æœåŠ¡å™¨ç¹å¿™&quot;;
    &#125;
</code></pre>
<h3 id="Hystrixä¹‹å…¨å±€æœåŠ¡é™çº§DefaultProperties"><a href="#Hystrixä¹‹å…¨å±€æœåŠ¡é™çº§DefaultProperties" class="headerlink" title="Hystrixä¹‹å…¨å±€æœåŠ¡é™çº§DefaultProperties"></a>Hystrixä¹‹å…¨å±€æœåŠ¡é™çº§DefaultProperties</h3><p>å°†é€šç”¨çš„å’Œç‹¬äº«çš„æœåŠ¡é™çº§æ–¹æ³•åˆ†å¼€,é¿å…ä»£ç è†¨èƒ€çš„é—®é¢˜    </p>
<pre><code>@RestController
@Slf4j
@DefaultProperties(defaultFallback = &quot;payment_Global_FallbackMethod&quot;)
public class PaymentHystrixController &#123;

    @Resource
    private PaymentHystrixService paymentHystrixService;

    @GetMapping(&quot;/consumer/payment/hystrix/ok/&#123;id&#125;&quot;)
    public String paymentInfo_Ok(@PathVariable(&quot;id&quot;)Integer id)&#123;
        return paymentHystrixService.paymentInfo_Ok(id);
    &#125;

    @GetMapping(&quot;/consumer/payment/hystrix/timeout/&#123;id&#125;&quot;)
//    @HystrixCommand(fallbackMethod = &quot;paymentTimeOutFallbackMethod&quot;,commandProperties = &#123;
//            @HystrixProperty(name = &quot;execution.isolation.thread.timeoutInMilliseconds&quot;,value = &quot;1500&quot;)
//    &#125;)
    @HystrixCommand
    public String paymentInfo_TimeOut(@PathVariable(&quot;id&quot;)Integer id)&#123;
        return paymentHystrixService.paymentInfo_TimeOut(id);
    &#125;

    public String paymentTimeOutFallbackMethod(@PathVariable(&quot;id&quot;)Integer id)&#123;
        return &quot;æˆ‘æ˜¯æ¶ˆè´¹è€…80ï¼Œå¯¹æ–¹æœåŠ¡å™¨ç¹å¿™&quot;;
    &#125;

    public String payment_Global_FallbackMethod()&#123;
        return &quot;Globalå¼‚å¸¸å¤„ç†ä¿¡æ¯ï¼Œè¯·ç¨åé‡è¯•&quot;;
    &#125;
&#125;
</code></pre>
<ul>
<li>é¦–å…ˆåœ¨Controllerä¸Šæ·»åŠ <code>@DefaultProperties(defaultFallback = &quot;payment_Global_FallbackMethod&quot;)</code>æ·»åŠ å…¨å±€çš„é™çº§æ–¹æ³•  </li>
<li>ç¼–å†™å…¨å±€çš„fallbackæ–¹æ³•  </li>
<li>åœ¨é»˜è®¤ä½¿ç”¨çš„æ–¹æ³•ä¸Šæ·»åŠ <code>@HystrixCommand</code>æ³¨è§£ï¼Œå¦‚æœæ·»åŠ äº†<code>fallbackMethod</code>å±æ€§ï¼Œé‚£ä¹ˆå°±ç”¨æŒ‡å®šçš„</li>
</ul>
<h3 id="Hystrixä¹‹é€šé…æœåŠ¡é™çº§FeignFallback"><a href="#Hystrixä¹‹é€šé…æœåŠ¡é™çº§FeignFallback" class="headerlink" title="Hystrixä¹‹é€šé…æœåŠ¡é™çº§FeignFallback"></a>Hystrixä¹‹é€šé…æœåŠ¡é™çº§FeignFallback</h3><p>æœåŠ¡é™çº§ï¼Œå®¢æˆ·ç«¯å»è°ƒç”¨æœåŠ¡ç«¯ï¼Œç¢°ä¸ŠæœåŠ¡ç«¯å®•æœºæˆ–å…³é—­</p>
<p>æœ¬æ¬¡æ¡ˆä¾‹æœåŠ¡é™çº§å¤„ç†æ˜¯åœ¨å®¢æˆ·ç«¯80å®ç°å®Œæˆçš„ï¼Œä¸æœåŠ¡ç«¯8001æ²¡æœ‰å…³ç³»ï¼Œåªéœ€è¦ä¸ºFeignå®¢æˆ·ç«¯å®šä¹‰çš„æ¥å£æ·»åŠ ä¸€ä¸ªæœåŠ¡é™çº§å¤„ç†çš„<code>å®ç°ç±»</code>å³å¯å®ç°è§£è€¦  </p>
<p>PaymentFallbackServiceç±»å®ç°PaymentHystrixServiceæ¥å£ </p>
<pre><code>@Component
public class PaymentFallbackService implements PaymentHystrixService&#123;
    @Override
    public String paymentInfo_Ok(Integer id) &#123;
        return &quot;-----PaymentFallbackService fall back_info_Ok&quot;;
    &#125;

    @Override
    public String paymentInfo_TimeOut(Integer id) &#123;
        return &quot;-----PaymentFallbackService fall back_info_Timeout&quot;;
    &#125;
&#125;
</code></pre>
<p>YML  </p>
<pre><code>...
feign:
  hystrix:
    enabled: true  
</code></pre>
<p>PaymentHystrixServiceæ¥å£</p>
<pre><code>@Service
@FeignClient(value = &quot;http://CLOUD-HYXTRIX-PAYMENT-SERVICE&quot;,fallback = PaymentFallbackService.class)
public interface PaymentHystrixService &#123;
    @GetMapping(&quot;/payment/hystrix/ok/&#123;id&#125;&quot;)
    public String paymentInfo_Ok(@PathVariable(&quot;id&quot;)Integer id);

    @GetMapping(&quot;/payment/hystrix/timeout/&#123;id&#125;&quot;)
    public String paymentInfo_TimeOut(@PathVariable(&quot;id&quot;)Integer id);
&#125;
</code></pre>
<p>å•ä¸ªeurekaå…ˆå¯åŠ¨7001</p>
<p>PaymentHystrixMain8001å¯åŠ¨</p>
<p>æ­£å¸¸è®¿é—®æµ‹è¯• - <a target="_blank" rel="noopener" href="http://localhost/consumer/payment/hystrix/ok/1">http://localhost/consumer/payment/hystrix/ok/1</a></p>
<p>æ•…æ„å…³é—­å¾®æœåŠ¡8001</p>
<p>å®¢æˆ·ç«¯è‡ªå·±è°ƒç”¨æç¤º - æ­¤æ—¶æœåŠ¡ç«¯providerå·²ç»downäº†ï¼Œä½†æ˜¯æˆ‘ä»¬åšäº†æœåŠ¡é™çº§å¤„ç†ï¼Œè®©å®¢æˆ·ç«¯åœ¨<code>æœåŠ¡ç«¯ä¸å¯ç”¨</code>æ—¶ä¹Ÿä¼šè·å¾—æç¤ºä¿¡æ¯è€Œä¸ä¼šæŒ‚èµ·è€—æ­»æœåŠ¡å™¨ã€‚</p>
<h2 id="æœåŠ¡ç†”æ–­-1"><a href="#æœåŠ¡ç†”æ–­-1" class="headerlink" title="æœåŠ¡ç†”æ–­"></a>æœåŠ¡ç†”æ–­</h2><h3 id="Hystrixä¹‹æœåŠ¡ç†”æ–­ç†è®º"><a href="#Hystrixä¹‹æœåŠ¡ç†”æ–­ç†è®º" class="headerlink" title="Hystrixä¹‹æœåŠ¡ç†”æ–­ç†è®º"></a>Hystrixä¹‹æœåŠ¡ç†”æ–­ç†è®º</h3><p>æ–­è·¯å™¨ï¼Œç›¸å½“äºä¿é™©ä¸ã€‚</p>
<h3 id="ç†”æ–­æœºåˆ¶æ¦‚è¿°"><a href="#ç†”æ–­æœºåˆ¶æ¦‚è¿°" class="headerlink" title="ç†”æ–­æœºåˆ¶æ¦‚è¿°"></a>ç†”æ–­æœºåˆ¶æ¦‚è¿°</h3><p>ç†”æ–­æœºåˆ¶æ˜¯åº”å¯¹é›ªå´©æ•ˆåº”çš„ä¸€ç§å¾®æœåŠ¡é“¾è·¯ä¿æŠ¤æœºåˆ¶ã€‚å½“æ‰‡å‡ºé“¾è·¯çš„æŸä¸ªå¾®æœåŠ¡å‡ºé”™ä¸å¯ç”¨æˆ–è€…å“åº”æ—¶é—´å¤ªé•¿æ—¶ï¼Œä¼šè¿›è¡ŒæœåŠ¡çš„é™çº§ï¼Œè¿›è€Œç†”æ–­è¯¥èŠ‚ç‚¹å¾®æœåŠ¡çš„è°ƒç”¨ï¼Œå¿«é€Ÿè¿”å›é”™è¯¯çš„å“åº”ä¿¡æ¯ã€‚å½“æ£€æµ‹åˆ°è¯¥èŠ‚ç‚¹å¾®æœåŠ¡è°ƒç”¨å“åº”æ­£å¸¸åï¼Œæ¢å¤è°ƒç”¨é“¾è·¯ã€‚</p>
<p>åœ¨Spring Cloudæ¡†æ¶é‡Œï¼Œç†”æ–­æœºåˆ¶é€šè¿‡Hystrixå®ç°ã€‚Hystrixä¼šç›‘æ§å¾®æœåŠ¡é—´è°ƒç”¨çš„çŠ¶å†µï¼Œå½“å¤±è´¥çš„è°ƒç”¨åˆ°ä¸€å®šé˜ˆå€¼ï¼Œç¼ºçœæ˜¯5ç§’å†…20æ¬¡è°ƒç”¨å¤±è´¥ï¼Œå°±ä¼šå¯åŠ¨ç†”æ–­æœºåˆ¶ã€‚ç†”æ–­æœºåˆ¶çš„æ³¨è§£æ˜¯@HystrixCommandã€‚</p>
<p><img data-src="/images/pasted-259.png" alt="upload successful">  </p>
<h3 id="ç†”æ–­æœºåˆ¶å®ä¾‹"><a href="#ç†”æ–­æœºåˆ¶å®ä¾‹" class="headerlink" title="ç†”æ–­æœºåˆ¶å®ä¾‹"></a>ç†”æ–­æœºåˆ¶å®ä¾‹</h3><pre><code>//æœåŠ¡ç†”æ–­
    @HystrixCommand(fallbackMethod = &quot;paymentCircuitBreaker_fallback&quot;,commandProperties = &#123;
            @HystrixProperty(name=&quot;circuitBreaker.enabled&quot;,value = &quot;true&quot;),//æ˜¯å¦å¼€å¯æ–­è·¯å™¨
            @HystrixProperty(name = &quot;circuitBreaker.requestVolumeThreshold&quot;,value = &quot;10&quot;),//è¯·æ±‚æ¬¡æ•°
            @HystrixProperty(name = &quot;circuitBreaker.sleepWindowInMilliseconds&quot;,value = &quot;10000&quot;),//æ—¶é—´çª—å£æœŸ
            @HystrixProperty(name = &quot;circuitBreaker.errorThresholdPercentage&quot;,value = &quot;60&quot;) //å¤±è´¥ç‡è¾¾åˆ°å¤šå°‘åè·³é—¸
    &#125;)
    public String paymentCircuitBreaker(@PathVariable(&quot;id&quot;)Integer id)&#123;
        if (id &lt; 0)&#123;
            throw new RuntimeException(&quot;***idä¸èƒ½ä¸ºè´Ÿæ•°&quot;);
        &#125;
        String serialNUmber = IdUtil.simpleUUID();
        return Thread.currentThread().getName() + &quot;\t&quot; + &quot;è°ƒç”¨æˆåŠŸ&quot;+serialNUmber;
    &#125;

    public String paymentCircuitBreaker_fallback(@PathVariable(&quot;id&quot;)Integer id)&#123;
        return &quot;id ä¸èƒ½ä¸ºè´Ÿæ•°,è¯·ç¨åå†è¯•&quot;;
    &#125;
    
    
</code></pre>
<p>The precise way that the circuit opening and closing occurs is as follows:</p>
<p>Assuming the volume across a circuit meets a certain threshold : <code>HystrixCommandProperties.circuitBreakerRequestVolumeThreshold()</code><br>And assuming that the error percentage, as defined above exceeds the error percentage defined in :<br><code>HystrixCommandProperties.circuitBreakerErrorThresholdPercentage()</code><br>Then the circuit-breaker transitions from CLOSED to OPEN.  </p>
<p>While it is open, it short-circuits all requests made against that circuit-breaker.  </p>
<p>After some amount of time (<code>HystrixCommandProperties.circuitBreakerSleepWindowInMilliseconds()</code>), the next request is let through. If it fails, the command stays OPEN for the sleep window. If it succeeds, it transitions to CLOSED and the logic in 1) takes over again.</p>
<p>å…·ä½“é…ç½®ç±»çš„å±æ€§å¯ä»¥çœ‹<code>HystrixCommandProperties</code>è¿™ä¸ªç±»çš„å±æ€§  </p>
<p>Controllerç±»</p>
<pre><code>//æœåŠ¡ç†”æ–­
    @GetMapping(&quot;/payment/circuit/&#123;id&#125;&quot;)
    public String paymentCircuitBreaker(@PathVariable(&quot;id&quot;) Integer id)&#123;
        String res = paymentService.paymentCircuitBreaker(id);
        log.info(&quot;*****result&quot;+res);
        return res;
    &#125;
</code></pre>
<p><img data-src="/images/pasted-260.png" alt="upload successful"><br>é¦–å…ˆæ¨¡æ‹Ÿ10så†…å¤šæ¬¡é”™è¯¯ï¼Œè§¦å‘æ–­è·¯å™¨ï¼Œå¼•èµ·æœåŠ¡ç†”æ–­ </p>
<p><img data-src="/images/pasted-261.png" alt="upload successful"><br>æ–­è·¯å™¨è§¦å‘åï¼Œæ‰€æœ‰çš„æœåŠ¡ä¸€å¾‹æœåŠ¡é™çº§å¤„ç†  </p>
<p><img data-src="/images/pasted-262.png" alt="upload successful"><br>è¿‡æ®µæ—¶é—´åå°±ä¼šæ¢å¤æœåŠ¡ï¼Œç±»ä¼¼äºæ–­è·¯å™¨ä»åŠå¼€çš„çŠ¶æ€ã€‚  </p>
<h3 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h3><p>ç†”æ–­ç±»å‹æœ‰ä¸‰ç§  </p>
<ul>
<li>ç†”æ–­æ‰“å¼€ï¼šè¯·æ±‚ä¸å†è¿›è¡Œè°ƒç”¨å½“å‰æœåŠ¡ï¼Œå†…éƒ¨è®¾ç½®æ—¶é’Ÿä¸€èˆ¬ä¸ºMTTR(å¹³å‡æ•…éšœå¤„ç†æ—¶é—´)ï¼Œå½“æ‰“å¼€æ—¶é•¿è¾¾åˆ°æ‰€è®¾æ—¶é’Ÿåˆ™è¿›å…¥åŠç†”æ–­çŠ¶æ€ã€‚</li>
<li>ç†”æ–­å…³é—­ï¼šç†”æ–­å…³é—­ä¸ä¼šå¯¹æœåŠ¡è¿›è¡Œç†”æ–­ã€‚</li>
<li>ç†”æ–­åŠå¼€ï¼šéƒ¨åˆ†è¯·æ±‚æ ¹æ®è§„åˆ™è°ƒç”¨å½“å‰æœåŠ¡ï¼Œå¦‚æœè¯·æ±‚æˆåŠŸä¸”ç¬¦åˆè§„åˆ™åˆ™è®¤ä¸ºå½“å‰æœåŠ¡æ¢å¤æ­£å¸¸ï¼Œå…³é—­ç†”æ–­ã€‚</li>
</ul>
<p>æ¶‰åŠåˆ°æ–­è·¯å™¨çš„ä¸‰ä¸ªé‡è¦å‚æ•°ï¼š</p>
<ul>
<li>å¿«ç…§æ—¶é—´çª—ï¼šæ–­è·¯å™¨ç¡®å®šæ˜¯å¦æ‰“å¼€éœ€è¦ç»Ÿè®¡ä¸€äº›è¯·æ±‚å’Œé”™è¯¯æ•°æ®ï¼Œè€Œç»Ÿè®¡çš„æ—¶é—´èŒƒå›´å°±æ˜¯å¿«ç…§æ—¶é—´çª—ï¼Œé»˜è®¤ä¸ºæœ€è¿‘çš„10ç§’ã€‚</li>
<li>è¯·æ±‚æ€»æ•°é˜€å€¼ï¼šåœ¨å¿«ç…§æ—¶é—´çª—å†…ï¼Œå¿…é¡»æ»¡è¶³è¯·æ±‚æ€»æ•°é˜€å€¼æ‰æœ‰èµ„æ ¼ç†”æ–­ã€‚é»˜è®¤ä¸º20ï¼Œæ„å‘³ç€åœ¨10ç§’å†…ï¼Œå¦‚æœè¯¥hystrixå‘½ä»¤çš„è°ƒç”¨æ¬¡æ•°ä¸è¶³20æ¬¡,å³ä½¿æ‰€æœ‰çš„è¯·æ±‚éƒ½è¶…æ—¶æˆ–å…¶ä»–åŸå› å¤±è´¥ï¼Œæ–­è·¯å™¨éƒ½ä¸ä¼šæ‰“å¼€ã€‚</li>
<li>é”™è¯¯ç™¾åˆ†æ¯”é˜€å€¼ï¼šå½“è¯·æ±‚æ€»æ•°åœ¨å¿«ç…§æ—¶é—´çª—å†…è¶…è¿‡äº†é˜€å€¼ï¼Œæ¯”å¦‚å‘ç”Ÿäº†30æ¬¡è°ƒç”¨ï¼Œå¦‚æœåœ¨è¿™30æ¬¡è°ƒç”¨ä¸­ï¼Œæœ‰15æ¬¡å‘ç”Ÿäº†è¶…æ—¶å¼‚å¸¸ï¼Œä¹Ÿå°±æ˜¯è¶…è¿‡50%çš„é”™è¯¯ç™¾åˆ†æ¯”ï¼Œåœ¨é»˜è®¤è®¾å®š50%é˜€å€¼æƒ…å†µä¸‹ï¼Œè¿™æ—¶å€™å°±ä¼šå°†æ–­è·¯å™¨æ‰“å¼€ã€‚</li>
</ul>
<p>åˆ°è¾¾ä»¥ä¸‹é˜€å€¼ï¼Œæ–­è·¯å™¨å°†ä¼šå¼€å¯ï¼š</p>
<ul>
<li>å½“æ»¡è¶³ä¸€å®šçš„é˜€å€¼çš„æ—¶å€™ï¼ˆé»˜è®¤10ç§’å†…è¶…è¿‡20ä¸ªè¯·æ±‚æ¬¡æ•°)</li>
<li>å½“å¤±è´¥ç‡è¾¾åˆ°ä¸€å®šçš„æ—¶å€™ï¼ˆé»˜è®¤10ç§’å†…è¶…è¿‡50%çš„è¯·æ±‚å¤±è´¥)</li>
<li>å½“å¼€å¯çš„æ—¶å€™ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ä¸ä¼šè¿›è¡Œè½¬å‘</li>
</ul>
<p>ä¸€æ®µæ—¶é—´ä¹‹åï¼ˆé»˜è®¤æ˜¯5ç§’)ï¼Œè¿™ä¸ªæ—¶å€™æ–­è·¯å™¨æ˜¯åŠå¼€çŠ¶æ€ï¼Œä¼šè®©å…¶ä¸­ä¸€ä¸ªè¯·æ±‚è¿›è¡Œè½¬å‘ã€‚å¦‚æœæˆåŠŸï¼Œæ–­è·¯å™¨ä¼šå…³é—­ï¼Œè‹¥å¤±è´¥ï¼Œç»§ç»­å¼€å¯ã€‚</p>
<p>æ–­è·¯å™¨æ‰“å¼€ä¹‹å</p>
<ul>
<li><p>1ï¼šå†æœ‰è¯·æ±‚è°ƒç”¨çš„æ—¶å€™ï¼Œå°†ä¸ä¼šè°ƒç”¨ä¸»é€»è¾‘ï¼Œè€Œæ˜¯ç›´æ¥è°ƒç”¨é™çº§fallbackã€‚é€šè¿‡æ–­è·¯å™¨ï¼Œå®ç°äº†è‡ªåŠ¨åœ°å‘ç°é”™è¯¯å¹¶å°†é™çº§é€»è¾‘åˆ‡æ¢ä¸ºä¸»é€»è¾‘ï¼Œå‡å°‘å“åº”å»¶è¿Ÿçš„æ•ˆæœã€‚</p>
</li>
<li><p>2ï¼šåŸæ¥çš„ä¸»é€»è¾‘è¦å¦‚ä½•æ¢å¤å‘¢ï¼Ÿ</p>
</li>
</ul>
<p>å¯¹äºè¿™ä¸€é—®é¢˜ï¼Œhystrixä¹Ÿä¸ºæˆ‘ä»¬å®ç°äº†è‡ªåŠ¨æ¢å¤åŠŸèƒ½ã€‚</p>
<p>å½“æ–­è·¯å™¨æ‰“å¼€ï¼Œå¯¹ä¸»é€»è¾‘è¿›è¡Œç†”æ–­ä¹‹åï¼Œhystrixä¼šå¯åŠ¨ä¸€ä¸ªä¼‘çœ æ—¶é—´çª—ï¼Œåœ¨è¿™ä¸ªæ—¶é—´çª—å†…ï¼Œé™çº§é€»è¾‘æ˜¯ä¸´æ—¶çš„æˆä¸ºä¸»é€»è¾‘ï¼Œå½“ä¼‘çœ æ—¶é—´çª—åˆ°æœŸï¼Œæ–­è·¯å™¨å°†è¿›å…¥åŠå¼€çŠ¶æ€ï¼Œé‡Šæ”¾ä¸€æ¬¡è¯·æ±‚åˆ°åŸæ¥çš„ä¸»é€»è¾‘ä¸Šï¼Œå¦‚æœæ­¤æ¬¡è¯·æ±‚æ­£å¸¸è¿”å›ï¼Œé‚£ä¹ˆæ–­è·¯å™¨å°†ç»§ç»­é—­åˆï¼Œä¸»é€»è¾‘æ¢å¤ï¼Œå¦‚æœè¿™æ¬¡è¯·æ±‚ä¾ç„¶æœ‰é—®é¢˜ï¼Œæ–­è·¯å™¨ç»§ç»­è¿›å…¥æ‰“å¼€çŠ¶æ€ï¼Œä¼‘çœ æ—¶é—´çª—é‡æ–°è®¡æ—¶ã€‚</p>
<h1 id="Hystrix-Dashboard"><a href="#Hystrix-Dashboard" class="headerlink" title="Hystrix-Dashboard"></a>Hystrix-Dashboard</h1><p>pomä¾èµ–  </p>
<pre><code>&lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix-dashboard&lt;/artifactId&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;
            &lt;scope&gt;runtime&lt;/scope&gt;
            &lt;optional&gt;true&lt;/optional&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
            &lt;artifactId&gt;lombok&lt;/artifactId&gt;
            &lt;optional&gt;true&lt;/optional&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
</code></pre>
<p>æ‰€æœ‰Providerå¾®æœåŠ¡æä¾›ç±»(8001&#x2F;8002&#x2F;8003)éƒ½éœ€è¦ç›‘æ§ä¾èµ–é…ç½®</p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
<p>localhost:9001&#x2F;hystrix</p>
<p><img data-src="/images/pasted-263.png" alt="upload successful">  </p>
<p>ä¿®æ”¹cloud-provider-hystrix-payment8001</p>
<p>æ³¨æ„ï¼šæ–°ç‰ˆæœ¬Hystrixéœ€è¦åœ¨ä¸»å¯åŠ¨ç±»PaymentHystrixMain8001ä¸­æŒ‡å®šç›‘æ§è·¯å¾„</p>
<pre><code>@SpringBootApplication
@EnableEurekaClient
@EnableCircuitBreaker
public class PaymentHystrixMain8001
&#123;
    public static void main(String[] args) &#123;
            SpringApplication.run(PaymentHystrixMain8001.class, args);
    &#125;


    /**
     *æ­¤é…ç½®æ˜¯ä¸ºäº†æœåŠ¡ç›‘æ§è€Œé…ç½®ï¼Œä¸æœåŠ¡å®¹é”™æœ¬èº«æ— å…³ï¼Œspringcloudå‡çº§åçš„å‘
     *ServletRegistrationBeanå› ä¸ºspringbootçš„é»˜è®¤è·¯å¾„ä¸æ˜¯&quot;/hystrix.stream&quot;ï¼Œ
     *åªè¦åœ¨è‡ªå·±çš„é¡¹ç›®é‡Œé…ç½®ä¸Šä¸‹é¢çš„servletå°±å¯ä»¥äº†
     *å¦åˆ™ï¼ŒUnable to connect to Command Metric Stream 404
     */
    @Bean
    public ServletRegistrationBean getServlet() &#123;
        HystrixMetricsStreamServlet streamServlet = new HystrixMetricsStreamServlet();
        ServletRegistrationBean registrationBean = new ServletRegistrationBean(streamServlet);
        registrationBean.setLoadOnStartup(1);
        registrationBean.addUrlMappings(&quot;/hystrix.stream&quot;);
        registrationBean.setName(&quot;HystrixMetricsStreamServlet&quot;);
        return registrationBean;
    &#125;
&#125;
</code></pre>
<p>ç›‘æ§localhost8001&#x2F;payment&#x2F;circuit&#x2F;1</p>
<p><img data-src="/images/pasted-264.png" alt="upload successful"><br>æ­¤æ—¶æ–­è·¯å™¨ä¸ºç»¿è‰²çš„ï¼Œä¸€ç›´æ²¡æœ‰æ‰“å¼€  </p>
<p>å¤šæ¬¡è®¿é—®localhost8001&#x2F;payment&#x2F;circuit&#x2F;-1</p>
<p><img data-src="/images/pasted-265.png" alt="upload successful"><br>æ–­è·¯å™¨å¼€å¯</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>æ‹¿æ¥å§ä½ ğŸ—</div>
  <button>
    èµèµ
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.JPG" alt="KaiXuan Young å¾®ä¿¡">
        <span>å¾®ä¿¡</span>
      </div>
      <div>
        <img src="/images/alibabapay.PNG" alt="KaiXuan Young æ”¯ä»˜å®">
        <span>æ”¯ä»˜å®</span>
      </div>

  </div>
</div>

          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>åŸä½œè€…ï¼š </strong>KaiXuan Young
  </li>
  <li class="post-copyright-link">
      <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="https://ykxzyp0517.cn/2022/11/03/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%88%86%E5%B8%83%E5%BC%8F%E6%9E%B6%E6%9E%84-%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7/" title="å¾®æœåŠ¡åˆ†å¸ƒå¼æ¶æ„-æœåŠ¡é™çº§ç†”æ–­é™æµ">https://ykxzyp0517.cn/2022/11/03/å¾®æœåŠ¡åˆ†å¸ƒå¼æ¶æ„-æœåŠ¡é™çº§/</a>
  </li>
  <li class="post-copyright-license">
    <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>
</div>


        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2022/11/02/CAS-%E8%87%AA%E6%97%8B%E9%94%81%E7%9A%84%E7%90%86%E8%A7%A3/" rel="prev" title="CAS+è‡ªæ—‹é”çš„ç†è§£">
                  <i class="fa fa-chevron-left"></i> CAS+è‡ªæ—‹é”çš„ç†è§£
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/11/07/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%88%86%E5%B8%83%E5%BC%8F%E6%9E%B6%E6%9E%84-%E6%9C%8D%E5%8A%A1%E7%BD%91%E5%85%B3/" rel="next" title="å¾®æœåŠ¡åˆ†å¸ƒå¼æ¶æ„-GatewayæœåŠ¡ç½‘å…³ã€Configåˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒã€Busæ¶ˆæ¯æ€»çº¿ã€streamæ¶ˆæ¯é©±åŠ¨">
                  å¾®æœåŠ¡åˆ†å¸ƒå¼æ¶æ„-GatewayæœåŠ¡ç½‘å…³ã€Configåˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒã€Busæ¶ˆæ¯æ€»çº¿ã€streamæ¶ˆæ¯é©±åŠ¨ <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments gitalk-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">KaiXuan Young</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <script size="300" alpha="0.6" zIndex="-2" src="https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"neutral","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/9.1.3/mermaid.min.js","integrity":"sha256-TIYL00Rhw/8WaoUhYTLX9SKIEFdXxg+yMWSLVUbhiLg="}}</script>
  <script src="/js/third-party/tags/mermaid.js"></script>

  <script src="/js/third-party/fancybox.js"></script>


  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.7.2/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"KaiXuan-Y# GitHub repo owner","repo":"comments# Repository name to store issues","client_id":"54e5333f9ff5623b13af# GitHub Application Client ID","client_secret":"ff6f684d7a27df62d564197b2f2907b7aef4cae1# GitHub Application Client Secret","admin_user":"KaiXuan-Y# GitHub repo owner and collaborators, only these guys can initialize gitHub issues","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":"zh-CN","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.7.2/gitalk.min.js","integrity":"sha256-Pmj85ojLaPOWwRtlMJwmezB/Qg8BzvJp5eTzvXaYAfA="},"path_md5":"6838901c612c2415ab4a2ea81a2a4695"}</script>
<script src="/js/third-party/comments/gitalk.js"></script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
